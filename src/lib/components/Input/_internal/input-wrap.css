@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@import "./theme.css";

/* https://tailwindcss.com/docs/upgrade-guide#adding-custom-utilities */
@utility stuic-input {
	& {
		@apply mb-4 grid;

		.label-box {
			label {
				@apply block flex-1 px-2 mb-1 text-base;
				&.required {
					@apply after:content-['*'] after:opacity-70 after:pl-1;
				}
				&.sm {
					@apply text-sm;
				}
				&.lg {
					@apply font-semibold;
				}
			}
		}

		.input-box {
			.input-wrap {
				@apply rounded-md border border-neutral-300 dark:border-neutral-600
                    bg-neutral-100 dark:bg-neutral-700
                    focus-within:border-input-accent focus-within:dark:border-input-accent-dark
                    focus-within:ring-input-accent/20 focus-within:dark:ring-input-accent-dark/20
                    focus-within:ring-4;
				&.invalid {
					@apply border-input-accent dark:border-input-accent-dark;
				}
				&.sm {
					@apply text-sm;
				}
				.form-input {
					@apply rounded-md border-0 w-full flex-1
                        text-base placeholder:text-base
                        bg-transparent
                        tracking-tight
                        focus:outline-0 focus-visible:ring-0
                        placeholder:tracking-tight
                        placeholder:text-neutral-950/35 dark:placeholder:text-neutral-50/35
                        text-neutral-950 dark:text-neutral-50;
					&.sm {
						@apply text-sm placeholder:text-sm py-1;
					}
					&.lg {
						@apply text-lg placeholder:text-lg;
					}
				}
				select.form-input {
					@apply pr-8;
				}
			}
		}

		.validation-box {
			@apply my-1 text-xs px-2
            text-input-accent dark:text-input-accent-dark;
		}

		.desc-box {
			@apply mx-2 mt-1 text-sm opacity-50;
		}

		.below-box {
			@apply mx-2 my-1;
		}
	}

	/* https://danielstern.ca/range.css/ */

	input[type="range"] {
		--thumb-width: 18px;
		--thumb-height: 18px;
		--thumb-border-radius: 100%;
		--track-border-radius: 18px;
		--track-height: 4px;
		--track-bg: #808080;

		width: 100%;
		/* margin: 7px 0; */
		margin: calc((var(--thumb-height) - var(--track-height)) / 2) 0;
		background-color: transparent;
		appearance: none;

		&:focus {
			@apply ring-0 outline-0 border-0;
		}
		&::-webkit-slider-runnable-track {
			/* background: var(--track-bg); */
			border: 0;
			border-radius: var(--track-border-radius);
			width: 100%;
			height: var(--track-height);
			cursor: pointer;
			@apply bg-neutral-300 dark:bg-neutral-600;
		}
		&::-webkit-slider-thumb {
			/* margin-top: -7px; */
			margin-top: calc(-1 * (var(--thumb-height) - var(--track-height)) / 2);
			width: var(--thumb-width);
			height: var(--thumb-height);
			border: 0;
			border-radius: var(--thumb-border-radius);
			cursor: pointer;
			-webkit-appearance: none;
			@apply bg-input-accent dark:bg-input-accent-dark;
		}
		&:focus::-webkit-slider-runnable-track {
			/* background: var(--track-bg); */
			@apply bg-neutral-300 dark:bg-neutral-600;
		}
		&::-moz-range-track {
			/* background: var(--track-bg); */
			border: 0;
			border-radius: var(--track-border-radius);
			width: 100%;
			height: var(--track-height);
			cursor: pointer;
			@apply bg-neutral-300 dark:bg-neutral-600;
		}
		&::-moz-range-thumb {
			width: var(--thumb-width);
			height: var(--thumb-height);
			border: 0;
			border-radius: var(--thumb-border-radius);
			cursor: pointer;
			@apply bg-input-accent dark:bg-input-accent-dark;
		}
		&::-ms-track {
			background: transparent;
			border-color: transparent;
			border-width: calc((var(--thumb-height) - var(--track-height)) / 2) 0;
			color: transparent;
			width: 100%;
			height: var(--track-height);
			cursor: pointer;
		}
		&::-ms-fill-lower {
			/* background: var(--track-bg); */
			border: 0;
			border-radius: var(--thumb-border-radius);
			@apply bg-neutral-300 dark:bg-neutral-600;
		}
		&::-ms-fill-upper {
			/* background: var(--track-bg); */
			border: 0;
			border-radius: var(--thumb-border-radius);
			@apply bg-neutral-300 dark:bg-neutral-600;
		}
		&::-ms-thumb {
			width: var(--thumb-width);
			height: var(--thumb-height);
			border: 0;
			border-radius: var(--thumb-border-radius);
			cursor: pointer;
			margin-top: 0px;
			@apply bg-input-accent dark:bg-input-accent-dark;
		}
		&:focus::-ms-fill-lower {
			/* background: var(--track-bg); */
			@apply bg-neutral-300 dark:bg-neutral-600;
		}
		&:focus::-ms-fill-upper {
			/* background: var(--track-bg); */
			@apply bg-neutral-300 dark:bg-neutral-600;
		}
	}
}

/* 
input[type="range"]::-webkit-slider-runnable-track {
	background: #808080;
	border: 0;
	border-radius: 25px;
	width: 100%;
	height: 4px;
	cursor: pointer;
}
input[type="range"]::-webkit-slider-thumb {
	margin-top: -7px;
	width: 18px;
	height: 18px;
	background: #ff0000;
	border: 0;
	border-radius: 18px;
	cursor: pointer;
	-webkit-appearance: none;
}
input[type="range"]:focus::-webkit-slider-runnable-track {
	background: #808080;
}
input[type="range"]::-moz-range-track {
	background: #808080;
	border: 0;
	border-radius: 25px;
	width: 100%;
	height: 4px;
	cursor: pointer;
}
input[type="range"]::-moz-range-thumb {
	width: 18px;
	height: 18px;
	background: #ff0000;
	border: 0;
	border-radius: 18px;
	cursor: pointer;
}
input[type="range"]::-ms-track {
	background: transparent;
	border-color: transparent;
	border-width: 7px 0;
	color: transparent;
	width: 100%;
	height: 4px;
	cursor: pointer;
}
input[type="range"]::-ms-fill-lower {
	background: #808080;
	border: 0;
	border-radius: 50px;
}
input[type="range"]::-ms-fill-upper {
	background: #808080;
	border: 0;
	border-radius: 50px;
}
input[type="range"]::-ms-thumb {
	width: 18px;
	height: 18px;
	background: #ff0000;
	border: 0;
	border-radius: 18px;
	cursor: pointer;
	margin-top: 0px;
} */
