/* ============================================================================
   DATA TABLE COMPONENT TOKENS
   Override globally: :root { --stuic-data-table-radius: 0; }
   Override locally:  <DataTable style="--stuic-data-table-radius: 0;">
   ============================================================================ */

/* prettier-ignore */
:root {
	/* Structure */
	--stuic-data-table-layout: fixed;
	--stuic-data-table-radius: var(--radius-md);
	--stuic-data-table-border-width: 1px;
	--stuic-data-table-border-color: var(--stuic-color-border);
	--stuic-data-table-transition: 150ms;

	/* Header */
	--stuic-data-table-header-bg: var(--stuic-color-muted);
	--stuic-data-table-header-color: var(--stuic-color-muted-foreground);
	--stuic-data-table-header-font-size: 0.875rem;
	--stuic-data-table-header-font-weight: var(--font-weight-semibold);
	--stuic-data-table-header-padding-x: 0.75rem;
	--stuic-data-table-header-padding-y: 0.5rem;

	/* Row */
	--stuic-data-table-row-bg: transparent;
	--stuic-data-table-row-bg-hover: var(--stuic-color-muted);
	--stuic-data-table-row-bg-selected: color-mix(in srgb, var(--stuic-color-primary) 10%, var(--stuic-color-background));
	--stuic-data-table-row-border-color: var(--stuic-color-border);

	/* Cell */
	--stuic-data-table-cell-padding-x: 0.75rem;
	--stuic-data-table-cell-padding-y: 0.75rem;
	--stuic-data-table-cell-font-size: 0.875rem;

	/* Paging */
	--stuic-data-table-paging-gap: 0.5rem;
	--stuic-data-table-paging-padding-y: 0.75rem;

	/* Batch action bar */
	--stuic-data-table-batch-bg: var(--stuic-color-muted);
	--stuic-data-table-batch-padding-x: 0.75rem;
	--stuic-data-table-batch-padding-y: 0.5rem;

	/* Checkbox column */
	--stuic-data-table-checkbox-width: 3rem;

	/* Loading overlay */
	--stuic-data-table-loading-opacity: 0.5;

	/* Mobile card */
	--stuic-data-table-card-bg: var(--stuic-color-background);
	--stuic-data-table-card-border-color: var(--stuic-color-border);
	--stuic-data-table-card-radius: var(--radius-md);
	--stuic-data-table-card-padding: 0.75rem;
	--stuic-data-table-card-gap: 0.5rem;
	--stuic-data-table-card-bg-selected: color-mix(in srgb, var(--stuic-color-primary) 10%, var(--stuic-color-background));
}

@layer components {
	/* ============================================================================
	   CONTAINER
	   ============================================================================ */

	.stuic-data-table {
		position: relative;
		width: 100%;
	}

	/* ============================================================================
	   TABLE WRAPPER (desktop)
	   ============================================================================ */

	.stuic-data-table-wrapper {
		overflow-x: auto;
		border-radius: var(--stuic-data-table-radius);
		border: var(--stuic-data-table-border-width) solid var(--stuic-data-table-border-color);
		transition: opacity var(--stuic-data-table-transition);
	}

	.stuic-data-table-wrapper[data-loading="true"] {
		opacity: var(--stuic-data-table-loading-opacity);
	}

	.stuic-data-table table {
		width: 100%;
		border-collapse: collapse;
		table-layout: var(--stuic-data-table-layout);
	}

	/* ============================================================================
	   HEADER
	   ============================================================================ */

	.stuic-data-table thead {
		background: var(--stuic-data-table-header-bg);
	}

	.stuic-data-table th {
		padding: var(--stuic-data-table-header-padding-y) var(--stuic-data-table-header-padding-x);
		font-size: var(--stuic-data-table-header-font-size);
		font-weight: var(--stuic-data-table-header-font-weight);
		color: var(--stuic-data-table-header-color);
		text-align: left;
		white-space: nowrap;
		border-bottom: var(--stuic-data-table-border-width) solid
			var(--stuic-data-table-border-color);
	}

	.stuic-data-table th[data-align="center"] {
		text-align: center;
	}

	.stuic-data-table th[data-align="right"] {
		text-align: right;
	}

	/* ============================================================================
	   ROW
	   ============================================================================ */

	.stuic-data-table tbody tr {
		background: var(--stuic-data-table-row-bg);
		border-bottom: var(--stuic-data-table-border-width) solid
			var(--stuic-data-table-row-border-color);
		transition: background var(--stuic-data-table-transition);
	}

	.stuic-data-table tbody tr:last-child {
		border-bottom: none;
	}

	.stuic-data-table tbody tr[data-hoverable="true"]:hover {
		background: var(--stuic-data-table-row-bg-hover);
	}

	.stuic-data-table tbody tr[data-clickable="true"] {
		cursor: pointer;
	}

	.stuic-data-table tbody tr[data-selected="true"] {
		background: var(--stuic-data-table-row-bg-selected);
	}

	.stuic-data-table tbody tr[data-selected="true"][data-hoverable="true"]:hover {
		background: color-mix(
			in srgb,
			var(--stuic-color-primary) 18%,
			var(--stuic-color-background)
		);
	}

	/* ============================================================================
	   CELL
	   ============================================================================ */

	.stuic-data-table td {
		padding: var(--stuic-data-table-cell-padding-y) var(--stuic-data-table-cell-padding-x);
		font-size: var(--stuic-data-table-cell-font-size);
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
	}

	.stuic-data-table td[data-align="center"] {
		text-align: center;
	}

	.stuic-data-table td[data-align="right"] {
		text-align: right;
	}

	/* Checkbox cell */
	.stuic-data-table th[data-checkbox],
	.stuic-data-table td[data-checkbox] {
		width: var(--stuic-data-table-checkbox-width);
		text-align: center;
		padding-left: 0.5rem;
		padding-right: 0.5rem;
		line-height: 0;
	}

	/* ============================================================================
	   PAGING
	   ============================================================================ */

	.stuic-data-table-paging {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: var(--stuic-data-table-paging-gap);
		padding-top: var(--stuic-data-table-paging-padding-y);
	}

	.stuic-data-table-paging-info {
		font-size: var(--stuic-data-table-cell-font-size);
		color: var(--stuic-data-table-header-color);
		white-space: nowrap;
	}

	/* ============================================================================
	   BATCH ACTION BAR
	   ============================================================================ */

	.stuic-data-table-batch {
		display: flex;
		align-items: center;
		gap: var(--stuic-data-table-paging-gap);
		padding: var(--stuic-data-table-batch-padding-y) var(--stuic-data-table-batch-padding-x);
		background: var(--stuic-data-table-batch-bg);
		border-radius: var(--stuic-data-table-radius);
		margin-bottom: 0.5rem;
	}

	/* ============================================================================
	   LOADING SPINNER OVERLAY
	   ============================================================================ */

	.stuic-data-table-loading {
		position: absolute;
		inset: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		pointer-events: none;
		z-index: 1;
	}

	/* ============================================================================
	   EMPTY STATE
	   ============================================================================ */

	.stuic-data-table-empty {
		padding: 2rem;
		color: var(--stuic-data-table-header-color);
		font-size: var(--stuic-data-table-cell-font-size);
		text-align: center;
	}

	/* When empty state is not inside a table cell (mobile cards) */
	div.stuic-data-table-empty {
		display: flex;
		align-items: center;
		justify-content: center;
	}

	/* ============================================================================
	   MOBILE CARDS
	   ============================================================================ */

	.stuic-data-table-cards {
		display: flex;
		flex-direction: column;
		gap: var(--stuic-data-table-card-gap);
		transition: opacity var(--stuic-data-table-transition);
	}

	.stuic-data-table-cards[data-loading="true"] {
		opacity: var(--stuic-data-table-loading-opacity);
	}

	.stuic-data-table-card {
		background: var(--stuic-data-table-card-bg);
		border: var(--stuic-data-table-border-width) solid var(--stuic-data-table-card-border-color);
		border-radius: var(--stuic-data-table-card-radius);
		padding: var(--stuic-data-table-card-padding);
		transition: background var(--stuic-data-table-transition);
	}

	.stuic-data-table-card[data-clickable="true"] {
		cursor: pointer;
	}

	.stuic-data-table-card[data-clickable="true"]:hover {
		background: var(--stuic-data-table-row-bg-hover);
	}

	.stuic-data-table-card[data-selected="true"] {
		background: var(--stuic-data-table-card-bg-selected);
	}

	.stuic-data-table-card-row {
		display: flex;
		justify-content: space-between;
		align-items: baseline;
		gap: 0.5rem;
		padding: 0.25rem 0;
	}

	.stuic-data-table-card-label {
		font-size: var(--stuic-data-table-header-font-size);
		font-weight: var(--stuic-data-table-header-font-weight);
		color: var(--stuic-data-table-header-color);
		flex-shrink: 0;
	}

	.stuic-data-table-card-value {
		font-size: var(--stuic-data-table-cell-font-size);
		text-align: right;
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
		min-width: 0;
	}
}
